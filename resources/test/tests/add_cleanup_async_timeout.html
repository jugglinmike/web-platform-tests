<!DOCTYPE HTML>
<html>
<head>
<title>Test#add_cleanup with Promise-returning functions (timeout handling)</title>
<script src="../../testharness.js"></script>
<script src="../../testharnessreport.js"></script>
</head>
<body>
<div id="log"></div>

<script>
test(function(t) {
  t.add_cleanup(function() {
    return new Promise(function() {});
  });
}, 'synchronous test with asynchronous cleanup');
</script>
<script type="text/json" id="expected">
{
}
</script>
</body>
</html>
